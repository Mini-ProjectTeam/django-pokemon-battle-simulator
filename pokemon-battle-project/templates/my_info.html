{% extends "base.html" %}

{% block title %}내 정보 - {{ block.super }}{% endblock %}

{% block content %}
<div class="grid md:grid-cols-5 gap-6">
    <div class="md:col-span-3 card">
        <h2 class="text-2xl font-black mb-4">나의 포켓몬 덱</h2>
        <div id="my-deck-grid" class="grid grid-cols-3 gap-4">
            {% for pokemon in ordered_pokemons %}
            <div class="aspect-square rounded-lg relative overflow-hidden bg-gray-100 border">
                <img src="{{ pokemon.artwork_url }}" alt="{{ pokemon.name }}" class="w-full h-full object-contain p-2">
                <div class="absolute bottom-0 left-0 right-0 bg-black bg-opacity-50 text-white text-center text-xs font-bold py-1 capitalize">{{ pokemon.name }}</div>
            </div>
            {% endfor %}
            
            {% for i in remaining_slots_range %}
            <a href="{% url 'pokedex' %}" class="aspect-square rounded-lg border-2 border-dashed border-gray-300 bg-gray-50 flex items-center justify-center hover:border-red-400 hover:bg-red-50 transition">
                <span class="text-5xl text-gray-300 font-light">+</span>
            </a>
            {% endfor %}
            </div>
    </div>

    <div class="md:col-span-2 space-y-6">
        <div class="card">
            <h2 class="text-2xl font-black mb-4">내 프로필</h2>
            <div class="flex items-center space-x-4">
                <img src="{{ user.profile_image.url }}" alt="Profile" class="w-24 h-24 rounded-full border-4 border-white shadow-md object-cover">
                <div class="flex-1">
                    <h3 class="text-2xl font-bold">{{ user.username }}</h3>
                    <p class="text-sm text-gray-500">전적: {{ user.wins }}승 {{ user.losses }}패</p>
                    <a href="{% url 'profile_update' %}" class="mt-2 inline-block text-xs bg-gray-200 px-3 py-1 rounded-full hover:bg-gray-300">프로필 수정</a>
                </div>
            </div>
        </div>
        <div class="card">
            <h2 class="text-2xl font-black mb-4">상태 메시지</h2>
            <p class="w-full h-24 p-2 border rounded-lg bg-gray-50">{{ user.status_message|default:"상태 메시지를 수정해주세요." }}</p>
        </div>
    </div>
</div>
{% endblock %}